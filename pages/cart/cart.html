<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Giỏ hàng - LuxeJewelry</title>

  <!-- Bootstrap -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
  <!-- Font Awesome -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">
  <!-- Custom CSS -->
  <link rel="stylesheet" href="/asset/style/myStyle.css">

  <style>
  
    /* Style nút outline gold */
    .btn-outline-gold {
      border: 1px solid #d4af37;
      color: #d4af37;
      background-color: transparent;
      transition: all 0.3s ease;
    }
    .btn-outline-gold:hover,
    .btn-outline-gold:active {
      background-color: #d4af37;
      color: #fff;
    }
    /* Style nút vàng */
    .btn-gold {
      background-color: #d4af37;
      color: #fff;
      border: none;
      transition: all 0.3s ease;
    }
    .btn-gold:hover {
      opacity: 0.9;
    }
    /* Căn hàng giá + ký hiệu ₫ */
    .item-total, .item-price {
      display: flex;
      align-items: center;
      gap: 0.2rem;
    }
  </style>
</head>
<body>
  <!-- Navigation -->
 <nav class="navbar navbar-expand-lg navbar-light bg-white shadow-sm sticky-top">
        <div class="container">
            <a href="/index.html" class="navbar-brand d-flex align-items-center">
                <span class="fw-bold text-gold font-serif">Jewelry</span>
            </a>

            <button class="navbar-toggler border-0" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>

            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav mx-auto">
                    <li class="nav-item">
                        <a class="nav-link text-navy fw-medium px-3 fs-6 hover-text-gold transition-colors" href="/index.html">Trang chủ</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link text-navy fw-medium px-3 fs-6 hover-text-gold" href="/pages/category/category.html">Danh mục</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link text-navy fw-medium px-3 fs-6 hover-text-gold" href="/pages/ar_try/ar.html">Thử AR</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link text-navy fw-medium px-3 fs-6 hover-text-gold" href="/pages/contact/contact.html">Liên hệ</a>
                    </li> 
                </ul>

                <div class="d-flex align-items-center gap-3">
                    <!-- Tài khoản -->
                    <a class="nav-link text-navy fw-medium px-3 fs-6 hover-text-gold " href="/pages/user_account/user_accountpage.html">Tài khoản</a>
                    <!-- cart --> 
                    <a href="/pages/cart/cart.html" class="position-relative">
                        <img src="/asset/icon/shopping_cart.svg" alt="shopping_cart" width="20">
                        <span id="cart-count" class="position-absolute top-0 start-100 translate-middle badge rounded-pill bg-gold">0</span>
                    </a>
                </div>
            </div>
        </div>
    </nav>
  <!-- Cart Section -->
  <div class="bg-light min-vh-100 py-4">
    <div class="container">
      <h1 class="h2 fw-bold mb-4">Giỏ hàng</h1>

      <div class="row g-4">
        <!-- Cart Items -->
        <div class="col-lg-8">
          <div class="card shadow-sm">
            <div class="card-body">

              <!-- Cart Item -->
              <div class="row align-items-center py-3 border-bottom cart-item" data-price="24500000">
                <div class="col-md-2">
                  <img src="https://images.pexels.com/photos/1927259/pexels-photo-1927259.jpeg" alt="Diamond Tennis Bracelet" class="img-fluid rounded" style="aspect-ratio: 1; object-fit: cover;">
                </div>
                <div class="col-md-4">
                  <h5 class="fw-semibold mb-1">Vòng tay tennis kim cương</h5>
                  <p class="text-muted mb-1 item-price">24.500.000 ₫</p>
                  <small class="text-muted">Kích cỡ: 17cm</small>
                </div>
                <div class="col-md-3">
                  <div class="d-flex align-items-center">
                    <button class="btn btn-outline-gold btn-sm btn-minus"><i class="fas fa-minus"></i></button>
                    <span class="mx-3 fw-semibold item-qty">1</span>
                    <button class="btn btn-outline-gold btn-sm btn-plus"><i class="fas fa-plus"></i></button>

                  </div>
                 
                </div>
                <div class="col-md-3 text-end">
                  <p class="h5 fw-bold mb-2 item-total">24.500.000 ₫</p>
                  <button class="btn btn-outline-gold btn-sm btn-remove"><i class="fas fa-trash"></i></button>
                </div>
              </div>
              
              <!-- thêm -->
              <div class="row align-items-center py-3 border-bottom cart-item" data-price="45000000">
                <div class="col-md-2">
                  <img src="https://images.pexels.com/photos/1302307/pexels-photo-1302307.jpeg" alt="Diamond Solitaire Ring" class="img-fluid rounded" style="aspect-ratio: 1; object-fit: cover;">
                </div>
                <div class="col-md-4">
                  <h5 class="fw-semibold mb-1">Nhẫn kim cương đơn</h5>
                  <p class="text-muted mb-1 item-price">45.000.000 ₫</p>
                  <small class="text-muted">Kích cỡ: 6.5</small>
                </div>
                <div class="col-md-3">
                  <div class="d-flex align-items-center">
                    <button class="btn btn-outline-gold btn-sm btn-minus"><i class="fas fa-minus"></i></button>
                    <span class="mx-3 fw-semibold item-qty">1</span>
                    <button class="btn btn-outline-gold btn-sm btn-plus"><i class="fas fa-plus"></i></button>
                  </div>
                </div>
                <div class="col-md-3 text-end">
                  <p class="h5 fw-bold mb-2 item-total">45.000.000 ₫</p>
                  <button class="btn btn-outline-gold btn-sm btn-remove"><i class="fas fa-trash"></i></button>
                </div>
              </div>
              <div class="row align-items-center py-3 border-bottom cart-item" data-price="8900000">
                <div class="col-md-2">
                  <img src="https://images.pexels.com/photos/1446305/pexels-photo-1446305.jpeg" alt="Rose Gold Chain Bracelet" class="img-fluid rounded" style="aspect-ratio: 1; object-fit: cover;">
                </div>
                <div class="col-md-4">
                  <h5 class="fw-semibold mb-1">Vòng tay dây chuyền vàng hồng</h5>
                  <p class="text-muted mb-1 item-price">8.900.000 ₫</p>
                  <small class="text-muted">Kích cỡ: 18cm</small>
                </div>
                <div class="col-md-3">
                  <div class="d-flex align-items-center">
                    <button class="btn btn-outline-gold btn-sm btn-minus"><i class="fas fa-minus"></i></button>
                    <span class="mx-3 fw-semibold item-qty">1</span>
                    <button class="btn btn-outline-gold btn-sm btn-plus"><i class="fas fa-plus"></i></button>
  
                  </div>
                </div>
                <div class="col-md-3 text-end">
                  <p class="h5 fw-bold mb-2 item-total">8.900.000 ₫</p>
                  <button class="btn btn-outline-gold btn-sm btn-remove"><i class="fas fa-trash"></i></button>
                </div>
              </div>

              <!-- Bạn có thể thêm nhiều cart-item khác tại đây -->
            </div>
          </div>
        </div>

        <!-- Order Summary -->
        <div class="col-lg-4">
          <div class="card shadow-sm">
            <!-- <div class="card-body">
              <h4 class="card-title mb-4">Tóm tắt đơn hàng</h4>
              <div class="d-flex justify-content-between mb-2">
                <span>Số lượng sản phẩm (<span id="summary-count">1</span>)</span> 
                <span id="summary-subtotal"> 78.400.000 ₫</span>
              </div>
              <div class="d-flex justify-content-between mb-2">
                <span> Phí vận chuyển</span>
                <span>Miễn phí</span>
              </div>
              <div class="d-flex justify-content-between mb-3">
                <span>Thuế (8%)</span>
                <span id="summary-tax">6.272.000 ₫</span>
              </div>
              <hr>
              <div class="d-flex justify-content-between mb-4">
                <span class="h5 fw-bold">Tổng cộng</span>
                <span class="h5 fw-bold" id="summary-total">84.672.000 ₫</span>
              </div>

              <div class="d-grid gap-2">
                <a href="checkout.html" class="btn btn-gold btn-lg">Tiến hành thanh toán</a>
                <a href="shop.html" class="btn btn-outline-gold">Tiếp tục mua sắm</a>
              </div>
            </div>
          </div>
        </div>
      </div> -->
      <div class="card-body">
  <h4 class="card-title mb-4">Tóm tắt đơn hàng</h4>

  <div class="d-flex justify-content-between mb-2">
    <span>Số lượng sản phẩm</span>
    <span id="summary-count">3</span>
  </div>
  <div class="d-flex justify-content-between mb-2">
    <span>Tạm tính</span>
    <span id="summary-subtotal">78.400.000 ₫</span>
  </div>
  <div class="d-flex justify-content-between mb-2">
    <span>Phí vận chuyển</span>
    <span>Miễn phí</span>
  </div>
  <div class="d-flex justify-content-between mb-3">
    <span>Thuế (8%)</span>
    <span id="summary-tax">6.272.000 ₫</span>
  </div>

  <hr>
  <div class="d-flex justify-content-between mb-4">
    <span class="h5 fw-bold">Tổng tiền</span>
    <span class="h5 fw-bold" id="summary-total">84.672.000 ₫</span>
  </div>

  <div class="d-grid gap-2">
    <a href="checkout.html" class="btn btn-gold btn-lg">Tiến hành thanh toán</a>
    <a href="shop.html" class="btn btn-outline-gold">Tiếp tục mua sắm</a>
  </div>
</div>

    </div>
  </div>

  <!-- JS -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
  <script>
    function formatVND(amount) {
      return amount.toLocaleString("vi-VN") + " ₫";
    }

    function updateCart() {
      const cartItems = document.querySelectorAll(".cart-item");
      let subtotal = 0;
      let itemCount = 0;

      cartItems.forEach(item => {
        const price = parseInt(item.dataset.price);
        const qty = parseInt(item.querySelector(".item-qty").innerText);
        const total = price * qty;
        item.querySelector(".item-total").innerText = formatVND(total);
        subtotal += total;
        itemCount += qty;
      });

      const tax = subtotal * 0.08;
      const grandTotal = subtotal + tax;

      document.getElementById("summary-subtotal").innerText = formatVND(subtotal);
      document.getElementById("summary-tax").innerText = formatVND(tax);
      document.getElementById("summary-total").innerText = formatVND(grandTotal);
      document.getElementById("summary-count").innerText = itemCount;
      document.getElementById("cart-count").innerText = itemCount;

      if (itemCount === 0) {
        document.querySelector(".col-lg-8 .card-body").innerHTML =
          "<p class='text-center py-5'>Giỏ hàng của bạn đang trống.</p>";
      }
    }

    document.addEventListener("click", function (e) {
      if (e.target.closest(".btn-plus")) {
        const qtyElem = e.target.closest(".cart-item").querySelector(".item-qty");
        qtyElem.innerText = parseInt(qtyElem.innerText) + 1;
        updateCart();
      }

      if (e.target.closest(".btn-minus")) {
        const item = e.target.closest(".cart-item");
        const qtyElem = item.querySelector(".item-qty");
        let qty = parseInt(qtyElem.innerText);
        if (qty > 1) {
          qtyElem.innerText = qty - 1;
          updateCart();
        } else {
          item.remove();
          updateCart();
        }
      }

      if (e.target.closest(".btn-remove")) {
        e.target.closest(".cart-item").remove();
        updateCart();
      }
    });

    // Initial load
    updateCart();
  </script>
</body>
</html>
